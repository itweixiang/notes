{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","height":200},"elements":{"leftChildren":[{"parent":"root","children":[{"parent":"b4318817287a","children":[],"id":"5ab42cc125de","title":"内存分析，在新版本的jdk中已被删除"},{"parent":"b4318817287a","children":[{"parent":"f190db04312b","children":[],"id":"e3c2758cfddd","title":"启动一个微型http服务器，通过localhost:7000访问"}],"id":"f190db04312b","title":"jhat filename"},{"parent":"b4318817287a","children":[{"parent":"bfb511b0f5f2","children":[],"id":"5174d3bd70e3","title":"修改端口号"}],"id":"bfb511b0f5f2","title":"jhat -port ? filename"}],"id":"b4318817287a","title":"jhat"},{"parent":"root","children":[{"parent":"b7a7baef3c0b","children":[],"id":"47df12928599","title":"生成线程快照，指每个线程正在执行的方法栈集合"},{"parent":"b7a7baef3c0b","children":[{"parent":"56eeb518c5eb","children":[],"id":"7d8054e1af04","title":"查看信息"}],"id":"56eeb518c5eb","title":"jstack pid"},{"parent":"b7a7baef3c0b","children":[{"parent":"c60ebd3f147e","children":[],"id":"e03f5446c1b0","title":"强制输出线程堆栈"}],"id":"c60ebd3f147e","title":"jstack -F&nbsp;pid"},{"parent":"b7a7baef3c0b","children":[{"parent":"032fa1f8ea77","children":[],"id":"193838aa008f","title":"显示锁的附加信息"}],"id":"032fa1f8ea77","title":"jstack&nbsp;-l pid"}],"id":"b7a7baef3c0b","title":"jstack"},{"parent":"root","children":[{"parent":"03a3f8d31d2d","children":[],"id":"ed03cffabb10","title":"多功能工具，实现除了jstat之外的所有命令的功能"},{"parent":"03a3f8d31d2d","children":[{"parent":"9afe70026659","children":[],"id":"2255137f3fef","title":"列出所有的java进程，类似于jps -l"}],"id":"9afe70026659","title":"jcmd -l"},{"parent":"03a3f8d31d2d","note":"VM.unlock_commercial_features\nJFR.configure\nJFR.stop\nJFR.start\nJFR.dump\nJFR.check\nVM.native_memory\nManagementAgent.stop\nManagementAgent.start_local\nManagementAgent.start\nVM.classloader_stats\nGC.rotate_log\nThread.print\nGC.class_stats\nGC.class_histogram\nGC.heap_dump\nGC.finalizer_info\nGC.heap_info\nGC.run_finalization\nGC.run\nVM.uptime\nVM.dynlibs\nVM.flags\nVM.system_properties\nVM.command_line\nVM.version\nhelp","children":[{"parent":"4fa046a5a602","children":[],"id":"6d2926ef833a","title":"查看支持的所有命令"}],"id":"4fa046a5a602","title":"jcmd pid help<br>"},{"parent":"03a3f8d31d2d","children":[{"parent":"9fb99b4d657c","children":[],"id":"04f027b502e9","title":"如jcmd 121247 Thread.print"}],"id":"9fb99b4d657c","title":"jcmd pid&nbsp;具体命令"}],"id":"03a3f8d31d2d","title":"jcmd"},{"parent":"root","children":[{"parent":"824df7cb3b7a","children":[],"id":"8abbc92014ad","title":"查看java进程的信息"},{"parent":"824df7cb3b7a","children":[{"parent":"81a9d50963b3","children":[],"id":"c5b7b74a734f","title":"查看进程号和启动类名"}],"id":"81a9d50963b3","title":"jsp"},{"parent":"824df7cb3b7a","children":[{"parent":"f8af09c4a721","children":[],"id":"cc0cb39115dc","title":"查看完整的启动类名"}],"id":"f8af09c4a721","title":"jps -l"},{"parent":"824df7cb3b7a","children":[{"parent":"bef164b90437","children":[],"id":"6a859e9a4f2b","title":"查看JVM启动参数和main方法的参数"}],"id":"bef164b90437","title":"jps -v"}],"id":"824df7cb3b7a","title":"jps"}],"children":[{"parent":"root","note":"https://www.cnblogs.com/lizhonghua34/p/7307139.html","children":[{"parent":"198716a35f7c","children":[],"id":"946713187ef5","title":"查看class装载，gc等信息<br>"},{"parent":"198716a35f7c","children":[{"parent":"95e2ca1eb4b8","children":[],"id":"1daff26c80db","title":"查看装载的类数量等<br>"}],"id":"95e2ca1eb4b8","title":"jstat -class pid"},{"parent":"198716a35f7c","note":"S0C：第一个幸存区的大小\nS1C：第二个幸存区的大小\nS0U：第一个幸存区的使用大小\nS1U：第二个幸存区的使用大小 \nEC：伊甸园区的大小\nEU：伊甸园区的使用大小\nOC：老年代大小\nOU：老年代使用大小\nMC：方法区大小\nMU：方法区使用大小\nCCSC:压缩类空间大小\nCCSU:压缩类空间使用大小\nYGC：年轻代垃圾回收次数\nYGCT：年轻代垃圾回收消耗时间\nFGC：老年代垃圾回收次数\nFGCT：老年代垃圾回收消耗时间\nGCT：垃圾回收消耗总时间","children":[{"parent":"1c31a6d7ea33","children":[],"id":"9a593c99bb96","title":"查看java进程的gc信息"}],"id":"1c31a6d7ea33","title":"jstat -gc pid"},{"parent":"198716a35f7c","note":"NGCMN：新生代最小容量\nNGCMX：新生代最大容量\nNGC：当前新生代容量\nS0C：第一个幸存区大小\nS1C：第二个幸存区的大小\nEC：伊甸园区的大小\nOGCMN：老年代最小容量\nOGCMX：老年代最大容量\nOGC：当前老年代大小\nOC:当前老年代大小\nMCMN:最小元数据容量\nMCMX：最大元数据容量\nMC：当前元数据空间大小\nCCSMN：最小压缩类空间大小\nCCSMX：最大压缩类空间大小\nCCSC：当前压缩类空间大小\nYGC：年轻代gc次数\nFGC：老年代GC次数","children":[{"parent":"1d808badf3f5","children":[],"id":"eee52e655682","title":"查看堆信息"}],"id":"1d808badf3f5","title":"jstat&nbsp;-gccapacity&nbsp;pid"},{"parent":"198716a35f7c","note":"S0C：第一个幸存区大小\nS1C：第二个幸存区的大小\nS0U：第一个幸存区的使用大小\nS1U：第二个幸存区的使用大小\nTT:对象在新生代存活的次数\nMTT:对象在新生代存活的最大次数\nDSS:期望的幸存区大小\nEC：伊甸园区的大小\nEU：伊甸园区的使用大小\nYGC：年轻代垃圾回收次数\nYGCT：年轻代垃圾回收消耗时间\n","children":[{"parent":"e46c8f7ea814","children":[],"id":"93ff27875539","title":"新生代gc统计"}],"id":"e46c8f7ea814","title":"jstat&nbsp;-gcnew&nbsp;pid"},{"parent":"198716a35f7c","note":"NGCMN：新生代最小容量\nNGCMX：新生代最大容量\nNGC：当前新生代容量\nS0CMX：最大幸存1区大小\nS0C：当前幸存1区大小\nS1CMX：最大幸存2区大小\nS1C：当前幸存2区大小\nECMX：最大伊甸园区大小\nEC：当前伊甸园区大小\nYGC：年轻代垃圾回收次数\nFGC：老年代回收次数\n","children":[{"parent":"b1d058fcf504","children":[],"id":"4e2c1cf977d3","title":"新生代内存信息"}],"id":"b1d058fcf504","title":"jstat -gcnewcapacity pid"},{"parent":"198716a35f7c","note":"MC：方法区大小\nMU：方法区使用大小\nCCSC:压缩类空间大小\nCCSU:压缩类空间使用大小\nOC：老年代大小\nOU：老年代使用大小\nYGC：年轻代垃圾回收次数\nFGC：老年代垃圾回收次数\nFGCT：老年代垃圾回收消耗时间\nGCT：垃圾回收消耗总时间","children":[{"parent":"0b0384f49a4a","children":[],"id":"4e48c1b8cb6d","title":"老年代gc统计<br>"}],"id":"0b0384f49a4a","title":"jstat&nbsp;-gcold pid"},{"parent":"198716a35f7c","note":"OGCMN：老年代最小容量\nOGCMX：老年代最大容量\nOGC：当前老年代大小\nOC：老年代大小\nYGC：年轻代垃圾回收次数\nFGC：老年代垃圾回收次数\nFGCT：老年代垃圾回收消耗时间\nGCT：垃圾回收消耗总时间\n","children":[{"parent":"65e19e110670","children":[],"id":"91ff4f1c412c","title":"老年代内存信息<br>"}],"id":"65e19e110670","title":"jstat&nbsp;-gcoldcapacity&nbsp;pid"},{"parent":"198716a35f7c","note":"MCMN:最小元数据容量\nMCMX：最大元数据容量\nMC：当前元数据空间大小\nCCSMN：最小压缩类空间大小\nCCSMX：最大压缩类空间大小\nCCSC：当前压缩类空间大小\nYGC：年轻代垃圾回收次数\nFGC：老年代垃圾回收次数\nFGCT：老年代垃圾回收消耗时间\nGCT：垃圾回收消耗总时间\n","children":[{"parent":"8527233fdd7b","children":[],"id":"86e3b707ba51","title":"元空间"}],"id":"8527233fdd7b","title":"jstat&nbsp;-gcmetacapacity pid<br>"},{"parent":"198716a35f7c","note":"S0：幸存1区当前使用比例\nS1：幸存2区当前使用比例\nE：伊甸园区使用比例\nO：老年代使用比例\nM：元数据区使用比例\nCCS：压缩使用比例\nYGC：年轻代垃圾回收次数\nFGC：老年代垃圾回收次数\nFGCT：老年代垃圾回收消耗时间\nGCT：垃圾回收消耗总时间","children":[{"parent":"981385f56226","children":[],"id":"a16f4bd3e736","title":"垃圾回收统计"}],"id":"981385f56226","title":"jstat&nbsp;-gcutil&nbsp;pid<br>"}],"collapsed":false,"id":"198716a35f7c","title":"jstat"},{"parent":"root","children":[{"parent":"bccfa3b6f4c4","children":[],"id":"4dac7de060c6","title":"查看和部分修改jvm的参数"},{"parent":"bccfa3b6f4c4","children":[{"parent":"6dd610103c91","children":[],"id":"9577127073fb","title":"查看当前进程的虚拟机信息"}],"id":"6dd610103c91","title":"jinfo pid"},{"parent":"bccfa3b6f4c4","children":[{"parent":"66f584d7cfb7","children":[],"id":"33db6184249b","title":"查看当前虚拟机的启动参数，命令行和main参数等"}],"id":"66f584d7cfb7","title":"jinfo -flags pid"},{"parent":"bccfa3b6f4c4","children":[{"parent":"9be2a2c1446c","children":[],"id":"abc9858154da","title":"查看当前虚拟机是否使用了参数，如jinfo -flag UseParallelGc 12828"},{"parent":"9be2a2c1446c","note":"可修改的参数有（java -XX:+PrintFlagsFinal -version | grep manageable\n）：\n\nCMSAbortablePrecleanWaitMillis   = 100  \nCMSTriggerInterval               = -1   \nCMSWaitDuration                  = 2000 \nHeapDumpAfterFullGC              = false\nHeapDumpBeforeFullGC             = false\nHeapDumpOnOutOfMemoryError       = false\nHeapDumpPath                     =      \nMaxHeapFreeRatio                 = 100  \nMinHeapFreeRatio                 = 0    \nPrintClassHistogram              = false\nPrintClassHistogramAfterFullGC   = false\nPrintClassHistogramBeforeFullGC  = false\nPrintConcurrentLocks             = false\nPrintGC                          = false\nPrintGCDateStamps                = false\nPrintGCDetails                   = false\nPrintGCID                        = false\nPrintGCTimeStamps                = false\n","children":[],"id":"5edb67c66d2b","title":"也可用于修改虚拟机的参数，如jinfo -flag&nbsp;HeapDumpPath=/tmp/cores/<br>"}],"id":"9be2a2c1446c","title":"jinfo -flag&nbsp;param pid<br>"},{"parent":"bccfa3b6f4c4","children":[{"parent":"9695dae062f5","children":[{"parent":"19eb10deb653","children":[],"id":"893b7c5a354c","title":"查看所有JVM参数启动的初始值"}],"id":"19eb10deb653","title":"java -XX:+PrintFlagsInitial<br>"},{"parent":"9695dae062f5","children":[{"parent":"c9bd25e6095a","children":[],"id":"3adc1a7939e4","title":"查看所有JVM参数启动的最终值"}],"id":"c9bd25e6095a","title":"java&nbsp;-XX:+PrintFlagsFinal -version<br>"},{"parent":"9695dae062f5","children":[{"parent":"886212ec6eee","children":[],"id":"203794b66618","title":"查看已经重置的参数<br>"}],"id":"886212ec6eee","title":"java&nbsp;-XX:+PrintCommandLineFlags<br>"}],"id":"9695dae062f5","title":"其他"}],"collapsed":false,"id":"bccfa3b6f4c4","title":"jinfo"},{"parent":"root","children":[{"parent":"059e689e7c7f","children":[],"id":"509ae48a39a0","title":"导出内存镜像文件和内存使用情况<br>"},{"parent":"059e689e7c7f","children":[{"parent":"850a405cfbc0","children":[{"parent":"3569c3283426","children":[],"id":"e2b89d69c6ed","title":"存活对象"}],"id":"3569c3283426","title":"jmap&nbsp;-dump:<b><i>live</i></b>,format=b,file=filename.hprof pid<br>"},{"parent":"850a405cfbc0","children":[{"parent":"2be89e231ddb","children":[],"id":"44d816e88d34","title":"所有对象"}],"id":"2be89e231ddb","title":"jmap -dump:format=b,file=filename.hprof pid<br>"},{"parent":"850a405cfbc0","children":[],"id":"de7d0303615b","title":"live，表示存活的对象，format表示生成的文件与扩展名适配"}],"id":"850a405cfbc0","title":"导出"},{"parent":"059e689e7c7f","children":[{"parent":"8e2fd6066113","children":[{"parent":"5432abc58742","children":[],"id":"3dcb16cfe945","title":"显示堆内存的配置，即已使用的信息"}],"id":"5432abc58742","title":"jmap -heap pid"},{"parent":"8e2fd6066113","children":[{"parent":"7d420175a4da","children":[],"id":"b8c464961f72","title":"显示堆中的对象信息"}],"id":"7d420175a4da","title":"jmap -histo pid"}],"id":"8e2fd6066113","title":"堆内存信息"}],"collapsed":false,"id":"059e689e7c7f","title":"jmap"}],"root":true,"theme":"paper","id":"root","title":"JDK自带工具","structure":"mind_free"}},"meta":{"exportTime":"2021-07-28 14:08:47","member":"","diagramInfo":{"creator":"","created":"","modified":"","title":"","category":""},"id":"","type":"ProcessOn Schema File","version":"1.0"}}